<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All Posts</title>
</head>
<body>

<!-- User Actions -->
<div th:if="${currentUser != null}" style="display: flex; align-items: center; gap: 20px;">
    <!-- Show current user name -->
    <span>Logged in as: <b th:text="${currentUser.name}">User Name</b></span>

    <!-- Only show for non-admin users -->
    <a th:if="${currentUser.role != T(com.mountblue.blogapplication.model.Role).ADMIN}"
       th:href="@{/posts/my}">View My Posts</a>


    <!-- Always show for logged-in users -->
    <a th:href="@{/post/create}">Create New Post</a>
</div>



<div th:if="${currentUser == null}">
    <p>Login to create or manage your posts</p>
</div>

<hr/>

<!-- Posts Listing -->
<div th:each="post : ${posts}">
    <h3 th:text="${post.title}">Post Title</h3>
    <p th:text="${post.content}">Post Content</p>
    <p>Author: <span th:text="${post.author.name}">Author Name</span></p>
    <hr/>
</div>

</body>
</html>
